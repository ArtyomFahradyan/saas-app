<div class="p-4">
  <button type="button" (click)="helpers.goBack()" class="btn text-success bg-transparent border-0"><i class="fa fa-long-arrow-left mr-2"></i>Back to contractList</button>

  <h2 class="mb-3 h-medium blue ml-2">Contract</h2>
  <div class="mt-4 ml-2 docs-content">
    <div class="mt-3 contract-content">
      <div *ngIf="contract.platform"><h5>Platform:&nbsp;</h5><span>{{ contract.platform ? contract.platform.name: '' }}</span></div>
      <div *ngIf="contract.team"><h5>Team:&nbsp; </h5><span> {{ contract.team ? contract.team.name: '' }}</span></div>
      <div *ngIf="contract.freeUsersCount"><h5>Users (free):&nbsp; </h5><span> {{ contract.freeUsersCount }}</span></div>
      <div *ngIf="contract.paidUsersCount"><h5>Users (paid):&nbsp; </h5><span>{{ contract.paidUsersCount }}</span></div>
      <div *ngIf="contract.paidSupportTier"><h5>Support tier (pied):&nbsp; </h5><span>{{ contract.paidSupportTier }}</span></div>
      <div *ngIf="contract.freeSupportTier"><h5>Support tier (free):&nbsp; </h5><span>{{ contract.freeSupportTier }}</span></div>
      <div *ngIf="contract.price"><h5>Price:&nbsp; </h5><span>{{ contract.price }}$</span></div>
      <div *ngIf="contract.paidEmailsSentCount"><h5>Email Sends (Paid):&nbsp; </h5><span>{{ contract.paidEmailsSentCount }}</span></div>
      <div *ngIf="contract.freeEmailsSentCount"><h5>Email Sends (Free):&nbsp; </h5><span>{{ contract.freeEmailsSentCount }}</span></div>
      <div *ngIf="contract.paidProjectsCount"><h5>Projects (paid):&nbsp; </h5><span>{{ contract.paidProjectsCount }}</span></div>
      <div *ngIf="contract.freeProjectsCount"><h5>Projects (Free):&nbsp; </h5><span>{{ contract.freeProjectsCount }}</span></div>
      <div *ngIf="contract.trialPeriod"><h5>Trial Period:&nbsp; </h5><span>{{ contract.trialPeriod }}</span></div>
      <div *ngIf="contract.renewalAt"><h5>Auto Renewal Date:&nbsp; </h5><span>{{ helpers.renewalDate(contract.renewalAt)}}</span></div>
      <div *ngIf="contract.endedAt"><h5>End Date:&nbsp; </h5><span>{{ helpers.renewalDate(contract.endedAt) }}</span></div>
      <div *ngIf="contract.startedAt"><h5>Start Date:&nbsp; </h5><span>{{ helpers.renewalDate(contract.startedAt) }}</span></div>
      <div class="row mt-3">
        <form #noteForm="ngForm"
              class="col-lg-5"
              (ngSubmit)="onSubmit()">
          <button type="button" (click)="addCustom()" class="btn btn-clear">+Add custom field</button>
          <div class="row mt-2" *ngFor="let elem of customs; let i = index">
            <div class="form-group col-lg-5">
              <input type="text"
                     id="{{elem}}"
                     [(ngModel)]="elem[0]"
                     required
                     name="key{{i}}"
                     placeholder="Label name"
                     class="form-control"/>
              <div *ngIf="elem[0]" class="invalid-feedback">
                <div class="text-danger">Label is required</div>
              </div>
            </div>
            <div class="form-group col-lg-5">
              <input type="text"
                     id="paidUsersCount"
                     [(ngModel)]="elem[1]"
                     required
                     name="value{{i}}"
                     placeholder="Value"
                     class="form-control" />
              <div *ngIf="elem[1]" class="invalid-feedback">
                <div class="text-danger">Value is required</div>
              </div>
            </div>
            <div class="col-lg-2">
              <i class="fa fa-times mt-2 text-danger pointer" (click)="deleteCustomRow(i)"></i>
            </div>
          </div>
          <div class="text-danger" *ngIf="reqFields">
            Label and Value are required
          </div>
          <div class="form-group mt-4">
            <span>Notify admin</span>
            <label class="switch d-block">
              <input type="checkbox" [(ngModel)]="notifyAdmin" name="notifyAdmin">
              <span class="slider round"></span>
            </label>
            <label for="textarea1" class="mt-4">For note</label>
            <textarea class="form-control" required style="resize: none" [(ngModel)]="note" name="note" id="textarea1" rows="3"></textarea>
            <div *ngIf="noteForm.submitted && !note" class="text-danger">
              Note is required
            </div>
          </div>
          <div class="form-group">
            <button type="submit" class="btn royal-blue-gradient btn-submit mr-3">Send</button>
          </div>
        </form>
      </div>
    </div>
    <div class="row text-center ml-1">
      <div><a href="" class="mr-2">Contract Download</a></div>
      <div><a href="">Contract Delete</a></div>
    </div>
  </div>

</div>
